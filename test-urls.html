<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test URL Patterns</title>
</head>
<body>
    <h1>Test URL Patterns cho Microsoft Forms</h1>
    <p>File này để test các URL pattern khác nhau của Microsoft Forms</p>
    
    <h2>Các URL phổ biến:</h2>
    <ul>
        <li><a href="https://forms.microsoft.com/r/abc123">forms.microsoft.com/r/abc123</a></li>
        <li><a href="https://forms.office.com/r/def456">forms.office.com/r/def456</a></li>
        <li><a href="https://forms.office365.com/r/ghi789">forms.office365.com/r/ghi789</a></li>
        <li><a href="https://mycompany.forms.office.com/r/jkl012">mycompany.forms.office.com/r/jkl012</a></li>
        <li><a href="https://tenant.forms.microsoft.com/r/mno345">tenant.forms.microsoft.com/r/mno345</a></li>
    </ul>

    <script>
        // Test function tương tự như trong popup.js
        function isMicrosoftFormsURL(url) {
            if (!url) return false;
            
            const formsPatterns = [
                'forms.microsoft.com',
                'forms.office.com',
                'forms.office365.com',
                '.forms.office.com',
                '.forms.microsoft.com',
                'microsoft.com/forms',
                'office.com/forms'
            ];
            
            console.log('Checking URL:', url);
            
            for (const pattern of formsPatterns) {
                if (url.includes(pattern)) {
                    console.log('Matched pattern:', pattern);
                    return true;
                }
            }
            
            if (url.match(/https:\/\/[^\/]*forms[^\/]*\.(microsoft|office)\.com/i)) {
                console.log('Matched regional pattern');
                return true;
            }
            
            console.log('No Microsoft Forms pattern matched');
            return false;
        }

        // Test URLs
        const testUrls = [
            'https://forms.microsoft.com/r/abc123',
            'https://forms.office.com/r/def456',
            'https://forms.office365.com/r/ghi789',
            'https://mycompany.forms.office.com/r/jkl012',
            'https://tenant.forms.microsoft.com/r/mno345',
            'https://google.com',
            'https://microsoft.com',
            'https://office.com'
        ];

        console.log('=== Testing URL patterns ===');
        testUrls.forEach(url => {
            const result = isMicrosoftFormsURL(url);
            console.log(`${url} -> ${result ? 'VALID' : 'INVALID'}`);
        });
    </script>
</body>
</html>